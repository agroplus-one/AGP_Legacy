<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated by T-Systems -->
<hibernate-mapping>
    <class name="com.rsi.agp.dao.tables.admin.DatoAsegurado" table="TB_DATOS_ASEGURADOS">
        <comment>Tabla con la informacisn relativa a cuentas de los asegurados</comment>
        <id name="id" type="java.lang.Long">
            <column name="ID" precision="15" scale="0" />
            <generator class="sequence">
            	<param name="sequence">SQ_DATOS_ASEGURADO</param>
            </generator>
        </id>
        <many-to-one name="asegurado" class="com.rsi.agp.dao.tables.admin.Asegurado" fetch="select" lazy="no-proxy">
            <column name="IDASEGURADO" precision="15" scale="0" not-null="true">
                <comment>Identificador del asegurado</comment>
            </column>
        </many-to-one>
        <many-to-one name="lineaCondicionado" class="com.rsi.agp.dao.tables.cgen.LineaCondicionado" fetch="select" lazy="no-proxy">
            <column name="CODLINEA" precision="3" scale="0" not-null="true">
                <comment>Identificador de la linea</comment>
            </column>
        </many-to-one>
        
		<property name="ccc" type="string">
            <column name="CCC" length="20" not-null="true">
                <comment>N&#250;mero de cuenta pago prima</comment>
            </column>
        </property>
        
        <property name="iban" type="string">
            <column name="IBAN" length="4" not-null="true">
                <comment>Iban pago prima</comment>
            </column>
        </property>
        
        <property name="ccc2" type="string">
            <column name="CCC2" length="20">
                <comment>N&#250;mero de cuenta cobro siniestros</comment>
            </column>
        </property>
        
        <property name="iban2" type="string">
            <column name="IBAN2" length="4">
                <comment>Iban cobro siniestros</comment>
            </column>
        </property>
        
        <property name="destinatarioDomiciliacion" type="string">
            <column name="DEST_DOMICILIACION" length="1" not-null="true">
                <comment>destinatario Domiciliacion</comment>
            </column>
        </property>
        
        <property name="titularCuenta" type="string">
            <column name="TITULAR_CUENTA" length="100">
                <comment>titular de la cuenta</comment>
            </column>
        </property>
        
        <property name="fechaAlta" type="java.util.Date"  lazy="true"      formula="(select ah.FECHA from o02agpe0.TB_DATOS_ASEGURADO_HIST_ESTADO ah where ah.IDDATOASEGURADO = ID  and ah.operacion='A' and rownum=1)"/>
        
        <property name="usuarioAlta" type="string" 		  lazy="true"      formula="(select ah.CODUSUARIO from o02agpe0.TB_DATOS_ASEGURADO_HIST_ESTADO ah where ah.IDDATOASEGURADO = ID and ah.operacion='A' and rownum=1)"/>
        
        <property name="fechaModificacion" type="java.util.Date" lazy="true" formula="(select ah.FECHA from o02agpe0.VW_DTS_ASEG_HIST_ESTADOS_DESC ah where ah.IDDATOASEGURADO = ID and ah.operacion='M' and rownum=1)"/>
        
        <property name="usuarioModificacion" type="string" lazy="true"	formula="(select ah.CODUSUARIO from o02agpe0.VW_DTS_ASEG_HIST_ESTADOS_DESC ah where ah.IDDATOASEGURADO = ID and ah.operacion='M' and rownum=1)"/>
    </class>
</hibernate-mapping>
