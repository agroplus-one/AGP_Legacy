<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated by T-Systems -->
<hibernate-mapping>
    <class name="com.rsi.agp.dao.tables.cpl.RiesgoCubiertoModulo" table="TB_SC_C_RIESGO_CBRTO_MOD" >
        <comment>Define los riesgos cubiertos por msdulo para un determinado plan/linea asm como el nzmero de fila que se le ha asignado para la configuracisn de las
        caractermsticas. El Concepto Principal (abarca tanto Tipo Garantma como Grupo Cultivos) podra contener los siguientes valores: 1 - Garantma: Produccisn; 2 - Garantma:
        Plantacisn; 3 - Secano: Cereales Invierno, Leguminosas y Oleaginosas; 4 - Secano: Resto Cultivo. Regadmo: Todos; 5 - Todos (Secano/Regadmo).</comment>
        <composite-id name="id" class="com.rsi.agp.dao.tables.cpl.RiesgoCubiertoModuloId" >
            <key-property name="lineaseguroid" type="java.lang.Long">
                <column name="LINEASEGUROID" precision="15" scale="0" />
            </key-property>
            <key-property name="codmodulo" type="string">
                <column name="CODMODULO" length="5" />
            </key-property>
            <key-property name="filamodulo" type="java.math.BigDecimal">
                <column name="FILAMODULO" precision="3" scale="0" />
            </key-property>
        </composite-id>
        <many-to-one name="modulo" class="com.rsi.agp.dao.tables.cpl.Modulo" lazy="no-proxy" update="false" insert="false" fetch="join" >
            <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                <comment>Identificador de la lmnea</comment>
            </column>
            <column name="CODMODULO" length="5" not-null="true">
                <comment>Csdigo del msdulo</comment>
            </column>
        </many-to-one>
        <many-to-one name="conceptoPpalModulo" class="com.rsi.agp.dao.tables.cgen.ConceptoPpalModulo" fetch="select" lazy="false">
            <column name="CODCONCEPTOPPALMOD" precision="3" scale="0" not-null="true">
                <comment>Codigo del concepto principal del msdulo</comment>
            </column>
        </many-to-one>
        <many-to-one name="riesgoCubierto" class="com.rsi.agp.dao.tables.cpl.RiesgoCubierto" update="false" insert="false" fetch="select" lazy="false">
            <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                <comment>Identificador de la lmnea</comment>
            </column>
            <column name="CODRIESGOCUBIERTO" precision="3" scale="0" not-null="true">
                <comment>Csdigo del riesgo cubierto</comment>
            </column>
            <column name="CODMODULO" length="5" not-null="true">
                <comment>Csdigo del msdulo</comment>
            </column>
        </many-to-one>
        <property name="elegible" type="java.lang.Character">
            <column name="ELEGIBLE" length="1" not-null="true">
                <comment>Indica si el riesgo es elegible o no</comment>
            </column>
        </property>
        <property name="niveleccion" type="java.lang.Character">
            <column name="NIVELECCION" length="1">
                <comment>Nivel de eleccisn</comment>
            </column>
        </property>
        <property name="fichvinculacionexterna" type="java.math.BigDecimal">
            <column name="FICHVINCULACIONEXTERNA" precision="4" scale="0">
                <comment>Ficha de vinculacisn externa</comment>
            </column>
        </property>
        <set name="coberturaPolizas" table="TB_COBERTURAS_POLIZA" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador del plan/l&#237;nea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>M&#243;dulo</comment>
                </column>
                <column name="FILAMODULO" precision="3" scale="0" not-null="true">
                    <comment>Fila del m&#243;dulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.poliza.CoberturaPoliza" />
        </set>
        <set name="caracteristicaModulos" table="TB_SC_C_CARACT_MODULO" order-by="filamodulo asc, columnamodulo desc" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
                <column name="FILAMODULO" precision="3" scale="0" not-null="true">
                    <comment>Fila en el msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.CaracteristicaModulo" />
        </set>
        <set name="comparativaPolizas" table="TB_COMPARATIVAS_POLIZA" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de plan/l&#237;nea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>M&#243;dulo</comment>
                </column>
                <column name="FILAMODULO" precision="3" scale="0" not-null="true">
                    <comment>Fila del m&#243;dulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.poliza.ComparativaPoliza" />
        </set>
    </class>
</hibernate-mapping>
