<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated by T-Systems -->
<hibernate-mapping>
    <class name="com.rsi.agp.dao.tables.cpl.Modulo" table="TB_SC_C_MODULOS">
        <comment>Msdulos</comment>
        <composite-id name="id" class="com.rsi.agp.dao.tables.cpl.ModuloId">
            <key-property name="lineaseguroid" type="java.lang.Long">
                <column name="LINEASEGUROID" precision="15" scale="0" />
            </key-property>
            <key-property name="codmodulo" type="string">
                <column name="CODMODULO" length="5" />
            </key-property>
        </composite-id>
        <many-to-one name="linea" class="com.rsi.agp.dao.tables.poliza.Linea" update="false" insert="false" fetch="join" lazy="no-proxy">
            <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                <comment>Identificador de la lmnea</comment>
            </column>
        </many-to-one>
        <property name="desmodulo" type="string">
            <column name="DESMODULO" length="40" not-null="true">
                <comment>Descripcisn del msdulo</comment>
            </column>
        </property>
  
        <property name="totcomplementarios" type="integer" lazy="true" formula="(
        	select count(m2.codmodulo) from o02agpe0.tb_sc_c_modulos m1, o02agpe0.tb_sc_c_modulos m2
			where m2.ppalcomplementario = 'C' 
			and m2.codmoduloasoc = m1.codmodulo
			and m1.lineaseguroid = m2.lineaseguroid
			and m1.lineaseguroid = lineaseguroid
			and m1.codmodulo = codmodulo	
        )"/>                    	
     
        <property name="ppalcomplementario" type="java.lang.Character">
            <column name="PPALCOMPLEMENTARIO" length="1" not-null="true">
                <comment>Indica si el msdulo es principal o complementario</comment>
            </column>
        </property>
        <property name="codmoduloasoc" type="string">
            <column name="CODMODULOASOC" length="5">
                <comment>M&#243;dulo asociado</comment>
            </column>
        </property>
        <property name="msjaclaracion" type="string">
            <column name="MSJACLARACION" length="500"></column>
        </property>
        <set name="reduccionRdtoAmbitos" table="TB_SC_C_REDUC_RDTOS_AMBITOS" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.ReduccionRdtoAmbito" />
        </set>
        <set name="valorEspecieAmbitos" table="TB_SC_C_VALORES_ESPECIE_AMBITO" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Linea Seguro</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Modulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.ValorEspecieAmbito" />
        </set>
        <set name="sistemaReduccionSubvCCAAs" table="TB_SC_C_SIST_REDUC_SUBV_CCAA" inverse="false" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.SistemaReduccionSubvCCAA" />
        </set>
        <set name="mascaraGrupoTasases" table="TB_SC_C_MASC_GRUPO_TASAS" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.MascaraGrupoTasas" />
        </set>
        <set name="subvencionEnesas" table="TB_SC_C_SUBVS_ENESA" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea.</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.SubvencionEnesa" />
        </set>
        <set name="relRiesgoCubiertoTarificables" table="TB_SC_C_REL_CBRTOS_TARIF" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.RelRiesgoCubiertoTarificable" />
        </set>
        <set name="mascaraLimiteRendimientos" table="TB_SC_C_MASC_LIMITES_RDTOS" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.MascaraLimiteRendimiento" />
        </set>
        <set name="comisionAgrarias" table="TB_SC_C_COMISIONES_AGR" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea de seguro</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.ComisionAgraria" />
        </set>
        <set name="mascaraRendimientoCaracteristicaEspecificas" table="TB_SC_C_MASC_RDTOS_CARACT_E" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#191;a</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>M&#191;o</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.MascaraRendimientoCaracteristicaEspecifica" />
        </set>
        <set name="precios" table="TB_SC_C_PRECIOS" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Csdigo del msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.Precio" />
        </set>
        <set name="relEspeciesSCEspeciesSTs" table="TB_SC_C_REL_ESPECIES_SC_ST" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Plan/l&#237;nea Seguro creciente</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>M&#243;dulo Seguro creciente</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.RelEspeciesSCEspeciesST" />
        </set>
        <set name="aseguradoAutorizados" table="TB_SC_C_ASEG_AUTORIZADOS" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea.</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.AseguradoAutorizado" />
        </set>
        <set name="moduloCompatibleCesForFkModCompatModuloComp" table="TB_MODULOS_COMPATIBLES_CE" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#237;nea</comment>
                </column>
                <column name="CODMODULOCOMPL" length="5" not-null="true">
                    <comment>M&#243;dulo complementario</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cesp.ModuloCompatibleCe" />
        </set>
        <set name="periodoGarantiaCes" table="TB_PERIODOS_GARANTIAS_CE" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#237;nea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>M&#243;dulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cesp.PeriodoGarantiaCe" />
        </set>
        <one-to-one name="descuento" class="com.rsi.agp.dao.tables.cpl.Descuento" lazy="no-proxy">
        	<formula>lineaseguroid</formula>
        	<formula>'TB_SC_C_MODULOS'</formula>
        </one-to-one>
        <!-- <one-to-one name="moduloAplicableMedida" class="com.rsi.agp.dao.tables.cpl.ModuloAplicableMedida"></one-to-one> -->
        <set name="riesgoCubiertoModulos" table="TB_SC_C_RIESGO_CBRTO_MOD" inverse="true" lazy="extra" fetch="select" order-by="filamodulo">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Csdigo del msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.RiesgoCubiertoModulo" />
        </set>
        <set name="limiteRendimientos" table="TB_SC_C_LIMITES_RDTOS" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.LimiteRendimiento" />
        </set>
        <set name="fechaFinGarantias" table="TB_SC_C_FECHA_FIN_GARANTIA" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#237;nea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>C&#243;digo del m&#243;dulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.FechaFinGarantia" />
        </set>
        <set name="rendimientoCaracteristicaEspecificas" table="TB_SC_C_RDTOS_CARACT_ESP" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#191;a</comment>
                </column>
                <column name="CODMODULO" length="5">
                    <comment>M&#191;o</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.RendimientoCaracteristicaEspecifica" />
        </set>
        <set name="tablaExternaCultivos" table="TB_SC_C_TABLA_EXT_CULTIVO" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#237;nea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Modulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.TablaExternaCultivo" />
        </set>
        <set name="riesgoCubiertos" table="TB_SC_C_RIESGOS_CUBIERTOS" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Csdigo del msdulo al que pertenece el riesgo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.RiesgoCubierto" />
        </set>
        <set name="fechaContratacionAgricolas" table="TB_SC_C_FEC_CONTRAT_AGR" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.FechaContratacionAgricola" />
        </set>
        <set name="bonificacionMedidaPreventivas" table="TB_SC_C_BONIF_MED_PREVENT" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.BonificacionMedidaPreventiva" />
        </set>
        <set name="moduloCompatibleCesForFkModulosCompatModulos" table="TB_MODULOS_COMPATIBLES_CE" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#237;nea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>M&#243;dulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cesp.ModuloCompatibleCe" />
        </set>
        <set name="subvencionCCAAs" table="TB_SC_C_SUBVS_CCAA" inverse="true" lazy="extra" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.SubvencionCCAA" />
        </set>
        <set name="condicionesComisioneses" table="TB_SC_C_COND_COMISIONES" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#237;nea de seguro</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>M&#243;dulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.CondicionesComisiones" />
        </set>
        <set name="mascaraPrecios" table="TB_SC_C_MASC_PRECIOS" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.MascaraPrecio" />
        </set>
        <set name="fechaRecoleccions" table="TB_SC_C_FECHA_RECOLECCION" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#237;nea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>C&#243;digo del m&#243;dulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.FechaRecoleccion" />
        </set>
        <set name="conceptoCubiertoModulos" table="TB_SC_C_CONCEPTO_CBRTO_MOD" inverse="true" lazy="extra" fetch="select" order-by="columnamodulo">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la linea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Csdigo del msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.ConceptoCubiertoModulo" />
        </set>
        <set name="mascaraFechaContrataAgricolas" table="TB_SC_C_MASC_FEC_CONTRATA_AGR" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.MascaraFechaContrataAgricola" />
        </set>
        <set name="medidasAsociadasHistorialAsegurados" table="TB_SC_C_MED_ASOC_HIST_ASEG" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Plan/l&#237;nea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>M&#243;dulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.MedidasAsociadasHistorialAsegurado" />
        </set>
        <set name="asegSubvAdicionalEnesas" table="TB_SC_C_ASEG_SUBV_ADIC_ENESA" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#237;nea.</comment>
                </column>
                <column name="CODMODULO" length="5">
                    <comment>M&#243;dulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.AsegSubvAdicionalEnesa" />
        </set>
        <set name="grupoTasases" table="TB_SC_C_GRUPO_TASAS" inverse="true" lazy="true" fetch="select">            
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador del plan/lmnea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Msdulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.GrupoTasas" />
        </set>
        <set name="factors" table="TB_SC_C_FACTORES" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de plan/linea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>M&#243;dulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.Factor" />
        </set>
        <set name="medidaFranquicias" table="TB_SC_C_MEDIDAS_FRANQUICIA" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="LINEASEGUROID" precision="15" scale="0" not-null="true">
                    <comment>Identificador de la l&#237;nea</comment>
                </column>
                <column name="CODMODULO" length="5" not-null="true">
                    <comment>Modulo</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.cpl.MedidaFranquicia" />
        </set>
    </class>
</hibernate-mapping>
