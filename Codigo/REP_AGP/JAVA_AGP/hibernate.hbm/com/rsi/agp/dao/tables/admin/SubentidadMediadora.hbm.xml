<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated by T-Systems -->
<hibernate-mapping>
    <class name="com.rsi.agp.dao.tables.admin.SubentidadMediadora" table="TB_SUBENTIDADES_MEDIADORAS">
        <comment>Contiene las subentidades. La Entidad Principal aparecer&#225; con C&#243;digo de Sub-Entidad 0. Como nombre de la Subentidad si la SubEntidad es 0
        corresponder&#225; con el de la Entidad. En caso contrario se tomar&#225; por defecto en la precarga el nombre del tomador.</comment>
        <composite-id name="id" class="com.rsi.agp.dao.tables.admin.SubentidadMediadoraId">
            <key-property name="codentidad" type="java.math.BigDecimal">
                <column name="CODENTIDAD" precision="4" scale="0" />
            </key-property>
            <key-property name="codsubentidad" type="java.math.BigDecimal">
                <column name="CODSUBENTIDAD" precision="4" scale="0" />
            </key-property>
        </composite-id>
        <many-to-one name="tipoMediadorAgro" class="com.rsi.agp.dao.tables.admin.TipoMediadorAgro" fetch="select">
            <column name="IDTIPOMEDIADOR_AGRO" precision="2" scale="0">
                <comment>Identificador del tipo de mediador de Agroseguro</comment>
            </column>
        </many-to-one>
        <many-to-one name="entidad" class="com.rsi.agp.dao.tables.admin.Entidad" fetch="select" lazy="false">
            <column name="CODENTIDADNOMEDIADORA" precision="4" scale="0">
                <comment>C&#243;digo de la entidad</comment>
            </column>
        </many-to-one>
        <many-to-one name="tipoMediador" class="com.rsi.agp.dao.tables.admin.TipoMediador" fetch="select">
            <column name="IDTIPOMEDIADOR_RGA" precision="10" scale="0">
                <comment>Identificador del tipo de mediador de RGA</comment>
            </column>
        </many-to-one>
        <many-to-one name="entidadMediadora" class="com.rsi.agp.dao.tables.admin.EntidadMediadora" lazy="no-proxy" update="false" insert="false" fetch="select">
            <column name="CODENTIDAD" precision="4" scale="0" not-null="true">
                <comment>C&#243;digo de la entidad mediadora.</comment>
            </column>
        </many-to-one>
        <property name="nomsubentidad" type="string">
            <column name="NOMSUBENTIDAD" length="100">
                <comment>Nombre de la subentidad mediadora.</comment>
            </column>
        </property>
        <property name="importecomision" type="java.math.BigDecimal">
            <column name="IMPORTECOMISION" precision="7">
                <comment>Importe de la comisi&#243;n</comment>
            </column>
        </property>
        <property name="retribucion" type="java.math.BigDecimal">
            <column name="RETRIBUCION" precision="2" scale="0">
                <comment>Retribuci&#243;n</comment>
            </column>
        </property>
        <property name="tipoidentificacion" type="string">
            <column name="TIPOIDENTIFICACION" length="3">
                <comment>Tipo de identificaci&#243;n</comment>
            </column>
        </property>
        <property name="nombre" type="string">
            <column name="NOMBRE" length="20">
                <comment>Nombre</comment>
            </column>
        </property>
        <property name="apellido1" type="string">
            <column name="APELLIDO1" length="40">
                <comment>Primer apellido</comment>
            </column>
        </property>
        <property name="apellido2" type="string">
            <column name="APELLIDO2" length="40">
                <comment>Segundo apellido</comment>
            </column>
        </property>
        <property name="nifcif" type="string">
            <column name="NIFCIF" length="9">
                <comment>Nif/Cif</comment>
            </column>
        </property>
        <property name="fechabaja" type="date">
            <column name="FECHABAJA" length="7" />
        </property>
        <property name="codpostal" type="java.math.BigDecimal">
            <column name="CODPOSTAL" precision="5" scale="0">
                <comment>C&#243;digo postal</comment>
            </column>
        </property>
        <property name="pagodirecto" type="java.lang.Character">
            <column name="PAGODIRECTO" length="1">
                <comment>Indica si hay pago directo o no</comment>
            </column>
        </property>
        <property name="cargoCuenta" type="java.math.BigDecimal">
            <column name="CARGO_CUENTA" precision="1" scale="0" not-null="true">
                <comment>Indica si se permite realizar cargo en cuenta (0 - No, 1 - Si)</comment>
            </column>
        </property>
        <property name="iban" type="string">
            <column name="IBAN" length="24">
                <comment>Iban asociado a la e-s mediadora</comment>
            </column>
        </property>
        <property name="forzarRevisionAM" type="java.math.BigDecimal">
            <column name="FORZAR_REVISION_AM" precision="1" scale="0">
                <comment>Indica si se puede forzar la revision AM (0 - No, 1 - Si)</comment>
            </column>
        </property>
        <property name="calcularRcGanado" type="java.math.BigDecimal">
            <column name="CALCULAR_RC_GANADO" precision="1" scale="0">
                <comment>Indica si se puede calcular la rc de ganado (0 - No, 1 - Si)</comment>
            </column>
        </property>
        <property name="swConfirmacion" type="java.math.BigDecimal">
            <column name="SW_CONFIRMACION" precision="1" scale="0">
                <comment>Indica si se permite la confirmacion de polizas on-line mediante SW (0 - No, 1 - Si)</comment>
            </column>
        </property>        
        <set name="entidadesCargoCuenta" table="TB_REL_ENT_CARGO_CUENTA" inverse="false" lazy="true" fetch="select">
            <key>
                <column name="COD_ENTIDAD_MED" precision="15" scale="0" not-null="true">
                    <comment>C&#243;digo de la entidad mediadora</comment>
                </column>
                <column name="COD_SUBENTIDAD_MED" precision="15" scale="0" not-null="true">
                    <comment>C&#243;digo de la subentidad mediadora</comment>
                </column>
            </key>
            <many-to-many entity-name="com.rsi.agp.dao.tables.admin.Entidad">
                <column name="COD_ENTIDAD" precision="15" scale="0" not-null="true">
                    <comment>C&#243;digo de la entidad</comment>
                </column>
            </many-to-many>
        </set>
        <set name="colectivos" table="TB_COLECTIVOS" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="ENTMEDIADORA" precision="4" scale="0">
                    <comment>Entidad mediadora</comment>
                </column>
                <column name="SUBENTMEDIADORA" precision="4" scale="0">
                    <comment>Subentidad mediadora</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.admin.Colectivo" />
        </set>
        <set name="usuarios" table="TB_USUARIOS" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="ENTMEDIADORA" precision="4" scale="0">
                    <comment>Entidad mediadora</comment>
                </column>
                <column name="SUBENTMEDIADORA" precision="4" scale="0">
                    <comment>Subentidad mediadora</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.commons.Usuario" />
        </set>
        <set name="descuentoses" table="TB_COMS_DESCUENTOS" inverse="true" lazy="true" fetch="select">
            <key>
                <column name="CODENTMED" precision="4" scale="0" not-null="true">
                    <comment>Codigo de entidad mediadora</comment>
                </column>
                <column name="CODSUBENTMED" precision="4" scale="0" not-null="true">
                    <comment>C&#243;digo de subentidad mediadora</comment>
                </column>
            </key>
            <one-to-many class="com.rsi.agp.dao.tables.comisiones.Descuentos" />
        </set>
        <property name="nomSubentidadCompleto" type="string" formula="NVL(TRIM(NOMSUBENTIDAD), TRIM (NOMBRE) || ' ' || TRIM (APELLIDO1) || ' ' || TRIM (APELLIDO2))"/>
                <property name="indGastosAdq" type="java.math.BigDecimal">
            <column name="IND_GASTOS_ADQ" precision="1" scale="0" not-null="true">
                <comment></comment>
            </column>
        </property>
        <property name="email" type="string">
            <column name="EMAIL" length="20">
                <comment>email</comment>
            </column>
        </property>
        <property name="email2" type="string">
            <column name="EMAIL_2" length="20">
                <comment>email2</comment>
            </column>
        </property>  
        <property name="firmaTableta" type="java.math.BigDecimal">
            <column name="IND_FIRMA_TABLETA" precision="1" scale="0">
                <comment>Indica el uso de la firma en tableta (0 - No, 1 - Si)</comment>
            </column>
        </property>
    </class>
</hibernate-mapping>