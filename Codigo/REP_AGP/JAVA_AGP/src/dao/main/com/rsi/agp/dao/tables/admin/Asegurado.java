package com.rsi.agp.dao.tables.admin;
// Generated by T-Systems


import java.math.BigDecimal;
import java.util.Date;
import java.util.HashSet;
import java.util.Set;

import org.springframework.web.multipart.MultipartFile;

import com.rsi.agp.core.managers.impl.AseguradoCsvRegistro;
import com.rsi.agp.core.util.Constants;
import com.rsi.agp.core.webapp.util.StringUtils;
import com.rsi.agp.dao.tables.cgen.LineaCondicionado;
import com.rsi.agp.dao.tables.commons.Localidad;
import com.rsi.agp.dao.tables.commons.LocalidadId;
import com.rsi.agp.dao.tables.commons.Usuario;
import com.rsi.agp.dao.tables.commons.Via;
import com.rsi.agp.dao.tables.poliza.Poliza;
import com.rsi.agp.dao.tables.poliza.SubAseguradoCCAA;
import com.rsi.agp.dao.tables.poliza.SubAseguradoCCAAGanado;
import com.rsi.agp.dao.tables.poliza.SubAseguradoCCAAView;
import com.rsi.agp.dao.tables.poliza.SubAseguradoENESA;
import com.rsi.agp.dao.tables.poliza.SubAseguradoENESAGanado;
import com.rsi.agp.dao.tables.poliza.SubAseguradoENESAView;


public class Asegurado  implements java.io.Serializable {

   
	 private static final long serialVersionUID = 2995773929304166646L;
	 private Long id;
     private Usuario usuario;
     private Localidad localidad;
     private Via via;
     private Entidad entidad;
     private String nifcif;
     private String discriminante;
     private String tipoidentificacion;
     private String nombre;
     private String apellido1;
     private String apellido2;
     private String razonsocial;
     private String direccion;
     private String numvia;
     private String piso;
     private String bloque;
     private String escalera;
     private BigDecimal codpostal;
     private String telefono;
     private String movil;
     private String email;
     private String numsegsocial;
     private BigDecimal regimensegsocial;
     private String atp;
     private Character jovenagricultor;
     private Character revisado;
     private Date fechaRevision;
     private Date fechaCarga;
     private Set<AseguradoSWDatPerMed> aseguradoSWDatPerMeds = new HashSet<AseguradoSWDatPerMed>(0);
     private Set<SubAseguradoENESA> subAseguradoENESAs = new HashSet<SubAseguradoENESA>(0);
     private Set<SubAseguradoENESAView> subAseguradoENESAsView = new HashSet<SubAseguradoENESAView>(0);
     private Set<String> subAseguradoENESAsId = new HashSet<String>(0);
     private Set<SubAseguradoCCAAGanado> subAseguradoCCAAGanados = new HashSet<SubAseguradoCCAAGanado>(0);
     private Set<SubAseguradoENESAGanado> subAseguradoENESAGanados = new HashSet<SubAseguradoENESAGanado>(0);
     private Set<Poliza> polizas = new HashSet<Poliza>(0);
     private Set<DatoAsegurado> datoAsegurados = new HashSet<DatoAsegurado>(0);
     private Set<Socio> socios = new HashSet<Socio>(0);
     private Set<SubAseguradoCCAA> subAseguradoCCAAs = new HashSet<SubAseguradoCCAA>(0);
     private Set<SubAseguradoCCAAView> subAseguradoCCAAsView = new HashSet<SubAseguradoCCAAView>(0);
     private Set<String> subAseguradoCCAAsId = new HashSet<String>(0);
     private String nombreCompleto;
     private Set<Usuario> usuarios = new HashSet<Usuario>(0);
     private String fullName;
     private MultipartFile file = null;
     private Date fechaModificacion;
     private String usuarioModificacion;
     private Integer isBloqueado;
     
	
	public Asegurado() {
    	usuario = new Usuario();
    	localidad = new Localidad();
    	via = new Via();
    	entidad = new Entidad();
    }

    public Asegurado(Long id, Entidad entidad) {
        this.id = id;
        this.entidad = entidad;
    }

	public Asegurado(Long id, Usuario usuario, Localidad localidad, Via via,
			Entidad entidad, String nifcif, String discriminante,
			String tipoidentificacion, String nombre, String apellido1,
			String apellido2, String razonsocial, String direccion,
			String numvia, String piso, String bloque, String escalera,
			BigDecimal codpostal, String telefono, String movil, String email,
			String numsegsocial, BigDecimal regimensegsocial, String atp,
			Character jovenagricultor, Character revisado, Date fechaRevision, Set<AseguradoSWDatPerMed> aseguradoSWDatPerMeds,
			Set<SubAseguradoENESA> subAseguradoENESAs,
			Set<SubAseguradoENESAGanado> subAseguradoENESAGanados,
			Set<SubAseguradoENESAView> subAseguradoENESAsView,
			Set<String> subAseguradoENESAsId, Set<Poliza> polizas,
			Set<DatoAsegurado> datoAsegurados, Set<Socio> socios,
			Set<SubAseguradoCCAA> subAseguradoCCAAs,
			Set<SubAseguradoCCAAGanado> subAseguradoCCAAGanados,
			Set<SubAseguradoCCAAView> subAseguradoCCAAsView,
			Set<String> subAseguradoCCAAsId, Set<Usuario> usuarios, Date fechaCarga, Integer isBloqueado) {
		super();
		this.id = id;
		this.usuario = usuario;
		this.localidad = localidad;
		this.via = via;
		this.entidad = entidad;
		this.nifcif = nifcif;
		this.discriminante = discriminante;
		this.tipoidentificacion = tipoidentificacion;
		this.nombre = nombre;
		this.apellido1 = apellido1;
		this.apellido2 = apellido2;
		this.razonsocial = razonsocial;
		this.direccion = direccion;
		this.numvia = numvia;
		this.piso = piso;
		this.bloque = bloque;
		this.escalera = escalera;
		this.codpostal = codpostal;
		this.telefono = telefono;
		this.movil = movil;
		this.email = email;
		this.numsegsocial = numsegsocial;
		this.regimensegsocial = regimensegsocial;
		this.atp = atp;
		this.jovenagricultor = jovenagricultor;
		this.revisado = revisado;
		this.subAseguradoENESAs = subAseguradoENESAs;
		this.subAseguradoENESAsView = subAseguradoENESAsView;
		this.subAseguradoENESAsId = subAseguradoENESAsId;
		this.polizas = polizas;
		this.datoAsegurados = datoAsegurados;
		this.socios = socios;
		this.subAseguradoCCAAs = subAseguradoCCAAs;
		this.subAseguradoCCAAsView = subAseguradoCCAAsView;
		this.subAseguradoCCAAsId = subAseguradoCCAAsId;
        this.usuarios = usuarios;
        this.fechaRevision = fechaRevision;
        this.aseguradoSWDatPerMeds = aseguradoSWDatPerMeds;
        this.subAseguradoENESAGanados = subAseguradoENESAGanados;
        this.subAseguradoCCAAGanados = subAseguradoCCAAGanados;
        this.fechaCarga = fechaCarga;
        this.isBloqueado = isBloqueado;
	}
	
	public Asegurado(AseguradoCsvRegistro registro) throws Exception{
		try {
			Entidad ent = new Entidad();
			ent.setCodentidad(new BigDecimal(registro.getEntidad ()));
			this.entidad = ent; 			
			
			this.tipoidentificacion = registro.getTipoIdentificacion (); 	
			this.nifcif= registro.getIdentificacion ();		 
			this.nombre= registro.getNombre ();				
			this.apellido1= registro.getApellido1 ();			
			this.apellido2 = registro.getApellido2 ();			
			this.razonsocial = registro.getRazonSocial ();	
			
			Usuario user = new Usuario();
			user.setCodusuario(registro.getUsuario ());
			user.getSubentidadMediadora().getId().setCodentidad(registro.getEntidadMediadora());
			user.getSubentidadMediadora().getId().setCodsubentidad(registro.getSubEntidadMediadora());
			user.getOficina().getId().setCodentidad(registro.getCodEntidad());
			user.getOficina().getId().setCodoficina(registro.getCodOficina());
		
			this.usuario = user;
			
			Via via=new Via();
			via.setClave(registro.getTipoVia ());
			this.via = via;
			
			this.direccion = registro.getDomicilio ();			
			this.numvia = registro.getNumero ();				
			this.piso = registro.getPiso ();					
			this.bloque = registro.getBloque ();				
			this.escalera = registro.getEscalera ();
						
			LocalidadId localId = new LocalidadId();
			localId.setCodprovincia(new BigDecimal(registro.getCodProvincia ()));
			localId.setCodlocalidad(new BigDecimal(registro.getCodLocalidad ()));
			localId.setSublocalidad(registro.getCosSublocalidad ());
			Localidad localidad = new Localidad();
			localidad.setId(localId);
			this.localidad = localidad;
			
			this.codpostal = new BigDecimal(registro.getCodPostal ());			
			this.telefono = registro.getTelefonoFijo ();			
			this.movil = registro.getTelefonoMovil ();		
			this.email = registro.getEmail ();	
			
			this.numsegsocial = registro.getNumSeguridadSoc ();
			
			if (!registro.getRegSeguridadSoc ().equals(""))
				this.regimensegsocial = new BigDecimal(registro.getRegSeguridadSoc ());
			
			
			if(registro.getAtp ().compareTo("SI")==0){
				this.atp="S";
			}else if(registro.getAtp ().compareTo("NO")==0){
				this.atp="N";
			}
			if(registro.getJovenAgricultor().compareTo("SI")==0){
				this.jovenagricultor=new Character('S');
			}else if(registro.getJovenAgricultor().compareTo("NO")==0){
				this.jovenagricultor=new Character('N');
			}
			if (!registro.getIbanPrima1().equals("")){
				DatoAsegurado ds = new DatoAsegurado();
				ds.setIban(registro.getIbanPrima1());
				StringBuilder sb1 = new StringBuilder();
				sb1.append(registro.getIbanPrima2());
				sb1.append(registro.getIbanPrima3());
				sb1.append(registro.getIbanPrima4());
				sb1.append(registro.getIbanPrima5());
				sb1.append(registro.getIbanPrima6());
				ds.setCcc(sb1.toString());
				ds.setIban2(registro.getIbanSiniestro1());
				StringBuilder sb2 = new StringBuilder();
				sb2.append(registro.getIbanSiniestro2());
				sb2.append(registro.getIbanSiniestro3());
				sb2.append(registro.getIbanSiniestro4());
				sb2.append(registro.getIbanSiniestro5());
				sb2.append(registro.getIbanSiniestro6());
				ds.setCcc2(sb2.toString());
				ds.setDestinatarioDomiciliacion(registro.getDestDomiciliacion());
				ds.setTitularCuenta(registro.getTitCuenta());
				ds.setFechaAlta(new Date());
				LineaCondicionado lc = new LineaCondicionado();
				lc.setCodlinea(Constants.CODLINEA_GENERICA);
				ds.setLineaCondicionado(lc);
				this.datoAsegurados.add(ds);
			}
			
			this.discriminante = registro.getDiscriminante();
			this.revisado = registro.getRevisado();
			this.fechaCarga = new Date();
			
		} catch (Exception e) {
			
			throw e;
		}
	}

	public Long getId() {
		return id;
	}

	public void setId(Long id) {
		this.id = id;
	}

	public Usuario getUsuario() {
		return usuario;
	}

	public void setUsuario(Usuario usuario) {
		this.usuario = usuario;
	}

	public Localidad getLocalidad() {
		return localidad;
	}

	public void setLocalidad(Localidad localidad) {
		this.localidad = localidad;
	}

	public Via getVia() {
		return via;
	}

	public void setVia(Via via) {
		this.via = via;
	}

	public Entidad getEntidad() {
		return entidad;
	}

	public void setEntidad(Entidad entidad) {
		this.entidad = entidad;
	}

	public String getNifcif() {
		return nifcif;
	}

	public void setNifcif(String nifcif) {
		this.nifcif = nifcif;
	}

	public String getDiscriminante() {
		return discriminante;
	}

	public void setDiscriminante(String discriminante) {
		this.discriminante = discriminante;
	}

	public String getTipoidentificacion() {
		return tipoidentificacion;
	}

	public void setTipoidentificacion(String tipoidentificacion) {
		this.tipoidentificacion = tipoidentificacion;
	}

	public String getNombre() {
		return nombre;
	}
	

	public void setNombre(String nombre) {
		this.nombre = nombre;
	}

	public String getApellido1() {
		return apellido1;
	}

	public void setApellido1(String apellido1) {
		this.apellido1 = apellido1;
	}

	public String getApellido2() {
		return StringUtils.nullToString(apellido2);
	}

	public void setApellido2(String apellido2) {
		this.apellido2 = apellido2;
	}

	public String getRazonsocial() {
		return razonsocial;
	}

	public void setRazonsocial(String razonsocial) {
		this.razonsocial = razonsocial;
	}

	public String getDireccion() {
		return direccion;
	}

	public void setDireccion(String direccion) {
		this.direccion = direccion;
	}

	public String getNumvia() {
		return numvia;
	}

	public void setNumvia(String numvia) {
		this.numvia = numvia;
	}

	public String getPiso() {
		return piso;
	}

	public void setPiso(String piso) {
		this.piso = piso;
	}

	public String getBloque() {
		return bloque;
	}

	public void setBloque(String bloque) {
		this.bloque = bloque;
	}

	public String getEscalera() {
		return escalera;
	}

	public void setEscalera(String escalera) {
		this.escalera = escalera;
	}

	public BigDecimal getCodpostal() {
		return codpostal;
	}

	public void setCodpostal(BigDecimal codpostal) {
		this.codpostal = codpostal;
	}
	
	public String getCodpostalstr() {
        
    	if(codpostal == null)
    		return "";
    	
    	String codPostalStr = codpostal.toString();
        
    	while(codPostalStr.length() < 5 )
    		codPostalStr = "0"+codPostalStr;
        
    	return codPostalStr;
    }
    
    public void setCodpostalstr(String codpostalstr) {
        if(codpostalstr != null && !codpostalstr.isEmpty())
        	this.codpostal = new BigDecimal(codpostalstr);
    }
    
	public String getTelefono() {
		return telefono;
	}

	public void setTelefono(String telefono) {
		this.telefono = telefono;
	}

	public String getMovil() {
		return movil;
	}

	public void setMovil(String movil) {
		this.movil = movil;
	}

	public String getEmail() {
		return email;
	}

	public void setEmail(String email) {
		this.email = email;
	}

	public String getNumsegsocial() {
		return numsegsocial;
	}

	public void setNumsegsocial(String numsegsocial) {
		this.numsegsocial = numsegsocial;
	}

	public BigDecimal getRegimensegsocial() {
		return regimensegsocial;
	}

	public void setRegimensegsocial(BigDecimal regimensegsocial) {
		this.regimensegsocial = regimensegsocial;
	}

	public String getAtp() {
		return atp;
	}

	public void setAtp(String atp) {
		this.atp = atp;
	}

	public Character getJovenagricultor() {
		return jovenagricultor;
	}

	public void setJovenagricultor(Character jovenagricultor) {
		this.jovenagricultor = jovenagricultor;
	}

	public Set<SubAseguradoENESA> getSubAseguradoENESAs() {
		return subAseguradoENESAs;
	}

	public void setSubAseguradoENESAs(Set<SubAseguradoENESA> subAseguradoENESAs) {
		this.subAseguradoENESAs = subAseguradoENESAs;
	}

	public Set<SubAseguradoENESAView> getSubAseguradoENESAsView() {
		return subAseguradoENESAsView;
	}

	public void setSubAseguradoENESAsView(
			Set<SubAseguradoENESAView> subAseguradoENESAsView) {
		this.subAseguradoENESAsView = subAseguradoENESAsView;
	}

	public Set<String> getSubAseguradoENESAsId() {
		return subAseguradoENESAsId;
	}

	public void setSubAseguradoENESAsId(Set<String> subAseguradoENESAsId) {
		this.subAseguradoENESAsId = subAseguradoENESAsId;
	}

	public Set<Poliza> getPolizas() {
		return polizas;
	}

	public void setPolizas(Set<Poliza> polizas) {
		this.polizas = polizas;
	}

	public Set<DatoAsegurado> getDatoAsegurados() {
		return datoAsegurados;
	}

	public void setDatoAsegurados(Set<DatoAsegurado> datoAsegurados) {
		this.datoAsegurados = datoAsegurados;
	}

	public Set<Socio> getSocios() {
		return socios;
	}

	public void setSocios(Set<Socio> socios) {
		this.socios = socios;
	}

	public Set<SubAseguradoCCAA> getSubAseguradoCCAAs() {
		return subAseguradoCCAAs;
	}

	public void setSubAseguradoCCAAs(Set<SubAseguradoCCAA> subAseguradoCCAAs) {
		this.subAseguradoCCAAs = subAseguradoCCAAs;
	}

	public Set<SubAseguradoCCAAView> getSubAseguradoCCAAsView() {
		return subAseguradoCCAAsView;
	}

	public void setSubAseguradoCCAAsView(
			Set<SubAseguradoCCAAView> subAseguradoCCAAsView) {
		this.subAseguradoCCAAsView = subAseguradoCCAAsView;
	}

	public Set<String> getSubAseguradoCCAAsId() {
		return subAseguradoCCAAsId;
	}

	public void setSubAseguradoCCAAsId(Set<String> subAseguradoCCAAsId) {
		this.subAseguradoCCAAsId = subAseguradoCCAAsId;
	}
	public String getNombreCompleto() {
		if("CIF".equalsIgnoreCase(getTipoidentificacion()))
			nombreCompleto = razonsocial != null ? razonsocial : "";
		else 
			nombreCompleto = StringUtils.nullToString(nombre)+ ' ' + StringUtils.nullToString(apellido1)+ ' '+ StringUtils.nullToString(apellido2);

		return nombreCompleto;
	}

	public void setNombreCompleto(String nombreCompleto) {
		this.nombreCompleto = nombreCompleto;
	}
    public Set<Usuario> getUsuarios() {
        return this.usuarios;
    }
    
    public void setUsuarios(Set<Usuario> usuarios) {
        this.usuarios = usuarios;
    }

	public Character getRevisado() {
		return revisado;
	}

	public void setRevisado(Character revisado) {
		this.revisado = revisado;
	}

	public String getFullName() {
		return fullName;
	}

	public void setFullName(String fullName) {
		this.fullName = fullName;
	}

	public Date getFechaRevision() {
		return fechaRevision;
	}

	public void setFechaRevision(Date fechaRevision) {
		this.fechaRevision = fechaRevision;
	}
	public Date getFechaCarga() {
        return this.fechaCarga;
    }
    
    public void setFechaCarga(Date fechaCarga) {
        this.fechaCarga = fechaCarga;
    }
	public Set<AseguradoSWDatPerMed> getAseguradoSWDatPerMeds() {
		return aseguradoSWDatPerMeds;
	}

	public void setAseguradoSWDatPerMeds(
			Set<AseguradoSWDatPerMed> aseguradoSWDatPerMeds) {
		this.aseguradoSWDatPerMeds = aseguradoSWDatPerMeds;
	}

	public Set<SubAseguradoCCAAGanado> getSubAseguradoCCAAGanados() {
		return subAseguradoCCAAGanados;
	}

	public void setSubAseguradoCCAAGanados(
			Set<SubAseguradoCCAAGanado> subAseguradoCCAAGanados) {
		this.subAseguradoCCAAGanados = subAseguradoCCAAGanados;
	}

	public Set<SubAseguradoENESAGanado> getSubAseguradoENESAGanados() {
		return subAseguradoENESAGanados;
	}

	public void setSubAseguradoENESAGanados(
			Set<SubAseguradoENESAGanado> subAseguradoENESAGanados) {
		this.subAseguradoENESAGanados = subAseguradoENESAGanados;
	}

	public MultipartFile getFile() {
		return file;
	}

	public void setFile(MultipartFile file) {
		this.file = file;
	}    
	public Date getFechaModificacion() {
		return fechaModificacion;
	}

	public void setFechaModificacion(Date fechaModificacion) {
		this.fechaModificacion = fechaModificacion;
	}

	public String getUsuarioModificacion() {
		return usuarioModificacion;
	}

	public void setUsuarioModificacion(String usuarioModificacion) {
		this.usuarioModificacion = usuarioModificacion;
	}
	
    /* ESC-12906 ** MODIF TAM (08/03/2021) ** Inicio */
    public Integer getIsBloqueado() {
        return this.isBloqueado;
    }
    
    public void setIsBloqueado(Integer isBloqueado) {
        this.isBloqueado = isBloqueado;
    }
    /* ESC-12906 ** MODIF TAM (08/03/2021) ** Fin */

}
