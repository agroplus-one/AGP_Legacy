<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="reporteParcelasSiniestro" pageWidth="540" pageHeight="555" columnWidth="540" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<property name="ireport.scriptlethandling" value="2"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="3.0"/>
	<property name="ireport.x" value="347"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="ID" class="java.lang.Integer"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select t.id,t.codprovincia,t.codcomarca,t.codtermino,t.subtermino,t.hoja,t.numero,t.poligono,t.parcela,t.codcultivo,t.codvariedad,t.nomparcela,
t.codprovsigpac , t.codtermsigpac , t.agrsigpac ,t.zonasigpac , t.poligonosigpac , t.parcelasigpac,t.recintosigpac,
cap.codtipocapital || ' - ' || tc.destipocapital as codtipocapital,cap.superficie,cap.id idcapaseg
from ((tb_siniestro_parcelas t join tb_siniestros s on  t.idsiniestro = s.id)
     join tb_siniestro_cap_aseg cap on cap.idparcelasiniestro=t.id) join tb_sc_c_tipo_capital tc on tc.codtipocapital = cap.codtipocapital
where cap.altaensiniestro = 'S'
and t.idsiniestro = $P{ID} order by t.hoja,t.numero]]>
	</queryString>
	<field name="ID" class="java.lang.Integer"/>
	<field name="CODPROVINCIA" class="java.math.BigDecimal"/>
	<field name="CODCOMARCA" class="java.math.BigDecimal"/>
	<field name="CODTERMINO" class="java.math.BigDecimal"/>
	<field name="SUBTERMINO" class="java.lang.String"/>
	<field name="HOJA" class="java.math.BigDecimal"/>
	<field name="NUMERO" class="java.math.BigDecimal"/>
	<field name="POLIGONO" class="java.lang.String"/>
	<field name="PARCELA" class="java.lang.String"/>
	<field name="CODCULTIVO" class="java.math.BigDecimal"/>
	<field name="CODVARIEDAD" class="java.math.BigDecimal"/>
	<field name="NOMPARCELA" class="java.lang.String"/>
	<field name="CODPROVSIGPAC" class="java.math.BigDecimal"/>
	<field name="CODTERMSIGPAC" class="java.math.BigDecimal"/>
	<field name="AGRSIGPAC" class="java.math.BigDecimal"/>
	<field name="ZONASIGPAC" class="java.math.BigDecimal"/>
	<field name="POLIGONOSIGPAC" class="java.math.BigDecimal"/>
	<field name="PARCELASIGPAC" class="java.math.BigDecimal"/>
	<field name="RECINTOSIGPAC" class="java.math.BigDecimal"/>
	<field name="CODTIPOCAPITAL" class="java.lang.String"/>
	<field name="SUPERFICIE" class="java.math.BigDecimal"/>
	<field name="IDCAPASEG" class="java.lang.Integer"/>
	<variable name="COLUMN_SUM" class="java.math.BigDecimal" incrementType="Group" incrementGroup="CapAseg">
		<variableExpression><![CDATA[]]></variableExpression>
	</variable>
	<group name="CapAseg">
		<groupExpression><![CDATA[$F{IDCAPASEG}]]></groupExpression>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="18" splitType="Stretch">
			<rectangle>
				<reportElement key="rectangle-2" mode="Transparent" x="0" y="0" width="540" height="18" backcolor="#FFFFFF"/>
			</rectangle>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" x="100" y="0" width="24" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{HOJA}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" x="0" y="0" width="25" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CODPROVINCIA}.toString()]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-1" x="25" y="0" width="25" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CODCOMARCA}.toString()]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-2" x="124" y="0" width="24" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{NUMERO}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" x="148" y="0" width="24" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CODCULTIVO}.toString()]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-4" x="172" y="0" width="24" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CODVARIEDAD}.toString()]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" x="245" y="9" width="108" height="9"/>
				<box leftPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{NOMPARCELA}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-6" x="245" y="0" width="108" height="9"/>
				<box leftPadding="2">
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CODPROVSIGPAC}.toString() + '-' +  $F{CODTERMSIGPAC}.toString() + '-' +$F{AGRSIGPAC}.toString() + '-' +$F{ZONASIGPAC}.toString() + '-' +$F{POLIGONOSIGPAC}.toString() + '-' +$F{PARCELASIGPAC}.toString() + '-' +$F{RECINTOSIGPAC}.toString()]]></textFieldExpression>
			</textField>
			<elementGroup/>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-4" x="196" y="0" width="24" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{POLIGONO}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-4" x="220" y="0" width="25" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{PARCELA}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-1" x="50" y="0" width="25" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CODTERMINO}.toString()]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-1" x="75" y="0" width="25" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{SUBTERMINO}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="460" y="0" width="80" height="18"/>
				<subreportParameter name="ID">
					<subreportParameterExpression><![CDATA[$F{IDCAPASEG}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "declaracionSiniestro__DatVarPar.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" x="436" y="0" width="25" height="18"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{SUPERFICIE}.toString()]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" x="353" y="0" width="83" height="18" isPrintWhenDetailOverflows="true"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" pdfFontName="Courier"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CODTIPOCAPITAL}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
