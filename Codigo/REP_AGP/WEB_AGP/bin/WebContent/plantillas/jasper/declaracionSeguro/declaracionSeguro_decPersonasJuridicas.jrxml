<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="declaracionSeguro_decPersonasJuridicas" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<parameter name="ID" class="java.lang.Integer"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="lstSocios" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource"/>
	<queryString>
		<![CDATA[SELECT DISTINCT UPPER(A.NOMBRE ||' '|| A.APELLIDO1 ||' '|| A.APELLIDO2 ||' '|| A.RAZONSOCIAL) as ASEGURADO_NOMBRE,
	PO.REFERENCIA AS REFERENCIA,
	(CO.IDCOLECTIVO ||'-'||CO.DC) AS REFCOLECTIVO
FROM o02agpe0.TB_POLIZAS PO, o02agpe0.TB_ASEGURADOS A, o02agpe0.TB_COLECTIVOS CO, o02agpe0.TB_LINEAS LI
   WHERE A.ID (+)= PO.IDASEGURADO
   AND CO.LINEASEGUROID = LI.LINEASEGUROID
   AND CO.ID = PO.IDCOLECTIVO
   AND PO.IDPOLIZA = $P{ID}]]>
	</queryString>
	<field name="ASEGURADO_NOMBRE" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="REFERENCIA" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="REFCOLECTIVO" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="SHOW_FOOT" class="java.lang.Boolean" resetType="None">
		<variableExpression><![CDATA[new Boolean(true)]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="SHOW_BACK" class="java.lang.Boolean" resetType="None">
		<variableExpression><![CDATA[new Boolean(true)]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="41" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="555" height="31"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[DETERMINACIÓN DE LAS SUBVENCIONES EN COMUNIDADES DE BIENES Y PERSONAS JURÍDICAS]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="70" splitType="Stretch">
			<staticText>
				<reportElement x="10" y="0" width="176" height="20"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Ref.: Declaración de aplicación nº]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="20" width="207" height="20"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Ref.: Declaración de Seguro Colectivo nº]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="40" width="239" height="20"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Denominación Social de la Entidad Asociativa:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="249" y="40" width="296" height="20"/>
				<textElement>
					<font size="9" isBold="true" isUnderline="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{ASEGURADO_NOMBRE}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="186" y="0" width="100" height="20"/>
				<textElement>
					<font size="9" isUnderline="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{REFERENCIA}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="217" y="20" width="100" height="20"/>
				<textElement>
					<font size="9" isUnderline="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{REFCOLECTIVO}]]></textFieldExpression>
			</textField>
		</band>
	</columnHeader>
	<detail>
		<band height="25" splitType="Stretch">
			<subreport>
				<reportElement x="10" y="0" width="535" height="25"/>
				<subreportParameter name="ID">
					<subreportParameterExpression><![CDATA[$P{ID}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[$P{lstSocios}]]></dataSourceExpression>
				<returnValue subreportVariable="SHOW_FOOT" toVariable="SHOW_FOOT"/>
				<returnValue subreportVariable="SHOW_BACK" toVariable="SHOW_BACK"/>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "declaracionSeguro_decPersonasJuridicas_listado.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
