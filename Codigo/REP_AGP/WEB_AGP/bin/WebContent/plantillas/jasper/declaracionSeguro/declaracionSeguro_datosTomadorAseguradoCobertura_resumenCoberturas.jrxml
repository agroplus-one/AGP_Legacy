<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="declaracionSeguro_datosTomadorAseguradoCobertura_resumenCoberturas" pageWidth="555" pageHeight="802" whenNoDataType="AllSectionsNoDetail" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="ID" class="java.lang.Integer"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["../../plantillas/jasper/declaracionSeguro/"]]></defaultValueExpression>
	</parameter>
	<parameter name="fechaFinContratacion" class="java.util.Date"/>
	<queryString>
		<![CDATA[SELECT MO.CODMODULO, MO.DESMODULO, MOP.TIPO_ASEG_GANADO, BUZ.DESCRIPCION, LIN.CODLINEA
FROM o02agpe0.TB_POLIZAS PO
     inner join o02agpe0.TB_SC_C_MODULOS MO on PO.CODMODULO = MO.CODMODULO
     full outer join o02agpe0.TB_MODULOS_POLIZA MOP on PO.IDPOLIZA = MOP.IDPOLIZA
     full outer join o02agpe0.TB_SC_C_DATOS_BUZON_GENERAL BUZ on MOP.TIPO_ASEG_GANADO = BUZ.VALOR_CPTO and BUZ.CODCPTO = 1079
     inner join o02agpe0.TB_LINEAS LIN on PO.LINEASEGUROID = LIN.LINEASEGUROID
WHERE PO.LINEASEGUROID = MO.LINEASEGUROID
  AND PO.IDPOLIZA = $P{ID}
]]>
	</queryString>
	<field name="CODMODULO" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="DESMODULO" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="TIPO_ASEG_GANADO" class="java.lang.String"/>
	<field name="DESCRIPCION" class="java.lang.String"/>
	<field name="CODLINEA" class="java.lang.String"/>
	<variable name="SHOW_FOOT" class="java.lang.Boolean" resetType="None">
		<variableExpression><![CDATA[new Boolean(true)]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="SHOW_BACK" class="java.lang.Boolean" resetType="None">
		<variableExpression><![CDATA[new Boolean(true)]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="13" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="242" height="13"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[RESUMEN DE COBERTURAS Y GARANTÍAS]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="54" splitType="Stretch">
			<staticText>
				<reportElement x="14" y="20" width="43" height="13"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Módulos:]]></text>
			</staticText>
			<textField pattern="###0" isBlankWhenNull="true">
				<reportElement x="57" y="20" width="30" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CODMODULO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="87" y="20" width="238" height="13"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{DESMODULO}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="325" y="20" width="136" height="13"/>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Fecha Final de Contratación:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="461" y="20" width="94" height="13"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[new java.text.SimpleDateFormat("dd/MM/yyyy").format($P{fechaFinContratacion})]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement mode="Transparent" x="14" y="33" width="313" height="17" isRemoveLineWhenBlank="true" backcolor="#FFFFFF"/>
				<subreportParameter name="ID">
					<subreportParameterExpression><![CDATA[$P{ID}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<returnValue subreportVariable="SHOW_FOOT" toVariable="SHOW_FOOT"/>
				<returnValue subreportVariable="SHOW_BACK" toVariable="SHOW_BACK"/>
				<subreportExpression class="java.lang.String"><![CDATA[$P{SUBREPORT_DIR} + "declaracionSeguro_datosTomadorAseguradoCobertura_resumenCoberturas_caract_explotacion.jasper"]]></subreportExpression>
			</subreport>
			<staticText>
				<reportElement x="14" y="5" width="129" height="13">
					<printWhenExpression><![CDATA[Boolean.valueOf($F{CODLINEA}.equals("406"))]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[TIPO ASEGURADO GANADO:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="143" y="5" width="23" height="13">
					<printWhenExpression><![CDATA[Boolean.valueOf($F{CODLINEA}.equals("406"))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{TIPO_ASEG_GANADO}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="166" y="5" width="238" height="13">
					<printWhenExpression><![CDATA[Boolean.valueOf($F{CODLINEA}.equals("406"))]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{DESCRIPCION}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
