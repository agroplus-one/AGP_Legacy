<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report3_subreport1" columnCount="2" printOrder="Horizontal" pageWidth="475" pageHeight="802" columnWidth="237" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="IDPARCELA" class="java.math.BigDecimal"/>
	<parameter name="IDCAPITAL" class="java.math.BigDecimal"/>
	<parameter name="LINEA" class="java.math.BigDecimal"/>
	<queryString>
		<![CDATA[select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR,DO.DESDENOMORIGEN as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.TB_SC_C_COD_DENOM_ORIGEN DO, o02agpe0.tb_sc_dd_dic_datos dd, o02agpe0.TB_CAPITALES_ASEGURADOS CAP, o02agpe0.TB_PARCELAS PAR, o02agpe0.TB_POLIZAS PO
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 107
and DO.CODDENOMORIGEN = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
AND DV.IDCAPITALASEGURADO = CAP.IDCAPITALASEGURADO
AND CAP.IDPARCELA = PAR.IDPARCELA
AND PAR.IDPOLIZA = PO.IDPOLIZA
AND PO.LINEASEGUROID = DO.LINEASEGUROID
union
select dv.idcapitalasegurado, dv.codconcepto,dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR, des.desdestino as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_destinos des, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and des.coddestino = dv.valor
and dv.codconcepto = 110
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR ,mp.destipomarcoplantac as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_marco_plantacion mp, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 116
and mp.codtipomarcoplantac = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR,SCULT.DESSISTEMACULTIVO as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.TB_SC_C_SISTEMA_CULTIVO SCULT, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 123
and SCULT.CODSISTEMACULTIVO = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,to_char(mpre.codmedidapreventiva) as valor,mpre.desmedidapreventiva as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_medida_preventiva mpre, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 124
and mpre.codmedidapreventiva in (select regexp_substr(dv.valor,'[^ ]+', 1, level) from dual connect by regexp_substr(dv.valor, '[^ ]+', 1, level) is not null)
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR,siscon.dessistemaconduccion as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_sistema_conduccion siscon, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 131
and siscon.codsistemaconduccion = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR, pc.despracticacultural as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_practica_cultural pc, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 133
and pc.codpracticacultural = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR,al.desalternativa as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_alternativas al, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 144
and al.codalternativa = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR,tp.destipoplantacion as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_tipo_plantacion tp, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 173
and tp.codtipoplantacion= dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR,sp.dessistemaproduccion as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_sistema_produccion sp, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 616
and sp.codsistemaproduccion = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR,nap.desnumaniospoda as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_num_anios_poda nap, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 617
and nap.codnumaniospoda = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto,dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR, ciclo.desciclocultivo as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_ciclo_cultivo ciclo, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 618
and ciclo.codciclocultivo = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR,crr.desreducrdto as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_cod_reduc_rdto crr, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 620
and crr.codreducrdto = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR,spt.dessistemaproteccion as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_sistema_proteccion spt, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 621
and spt.codsistemaproteccion = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR, tt.destipoterreno as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_tipo_terreno tt, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 752
and tt.codtipoterreno = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR, tm.destipomasa as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_tipo_masa tm, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 753
and tm.codtipomasa = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR, pend.despendiente as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_pendiente pend, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 754
and pend.codpendiente = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR, igp.descripcion as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_igp igp, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 765
and igp.codigp = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR,ti.descripcion as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_tipo_instalacion ti, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 778
and ti.codtipoinstalacion= dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR ,mc.descripcion as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_material_cubierta mc, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 873
and mc.codmaterialcubierta = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR,me.descripcion as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_material_estructura me, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 875
and me.codmaterialestructura = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR,ci.descripcion as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_certificado_instal ci, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 879
and ci.codcertificadoinstal= dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,TO_CHAR( dv.valor,'000') as VALOR , nad.desnumaniosdescorche as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_num_anios_descorche nad, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 944
and nad.codnumaniosdescorche= dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR , f.despctfranquiciaeleg as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_pct_franquicia_eleg f, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 120
and f.codpctfranquiciaeleg= dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto, TO_CHAR( dv.valor,'000') as VALOR , mi.desminindem as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_c_min_indem_eleg mi, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto = 121
and mi.pctminindem = dv.valor
and dv.idcapitalasegurado = $P{IDCAPITAL}
union
select dv.idcapitalasegurado, dv.codconcepto, dd.nomconcepto,dv.valor as VALOR, '' as descripcion
from o02agpe0.tb_datos_var_parcela dv, o02agpe0.tb_sc_dd_dic_datos dd
where dv.codconcepto = dd.codconcepto
and dv.codconcepto not in(107,110,116,123,124,131,133,144,173,616,617,618,620,621,752,753,754,765,778,873,875,879,944,120,121)
and dv.idcapitalasegurado = $P{IDCAPITAL}]]>
	</queryString>
	<field name="IDCAPITALASEGURADO" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CODCONCEPTO" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="NOMCONCEPTO" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="VALOR" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="DESCRIPCION" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="SHOW_FOOT" class="java.lang.Boolean" resetType="None">
		<variableExpression><![CDATA[new Boolean(true)]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<variable name="SHOW_BACK" class="java.lang.Boolean" resetType="None">
		<variableExpression><![CDATA[new Boolean(true)]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="8" splitType="Stretch">
			<textField pattern="" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="39" y="0" width="94" height="8"/>
				<textElement>
					<font size="6" isItalic="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{NOMCONCEPTO}.contains( "RIESGO CUBIERTO" ) ? null : $F{NOMCONCEPTO}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="145" y="0" width="101" height="8"/>
				<textElement>
					<font size="6" isItalic="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{NOMCONCEPTO}.contains( "RIESGO CUBIERTO" ) ? null :
$F{VALOR} + " " + ( $F{DESCRIPCION} != null ? "  " + $F{DESCRIPCION} : "" )]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
